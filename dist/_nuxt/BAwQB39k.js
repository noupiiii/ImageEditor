import{h as nt,o as E,c as T,b as F,w as A,a as N,f as Y,g as se,i as Le,j as R,r as O,k as at,l as I,m as _e,n as lt,p as V,_ as de,q as X,s as He,v as Pe,x as re,y as ot,z as ze,A as G,B as Ue,C as te,D as le,E as x,F as D,G as M,H as rt,I as ut,J as Re,K as ne,L as it,M as ae,N as st,O as Te,t as $e,P as ce,Q as Ve,R as Q,S as dt,T as L,U as We,V as ct,W as Ne,X as we,Y as De,Z as vt}from"./hwBXkv5p.js";const ft={base:"",background:"bg-white dark:bg-gray-900",divide:"divide-y divide-gray-200 dark:divide-gray-800",ring:"ring-1 ring-gray-200 dark:ring-gray-800",rounded:"rounded-lg",shadow:"shadow",body:{base:"",background:"",padding:"px-4 py-5 sm:p-6"},header:{base:"",background:"",padding:"px-4 py-5 sm:px-6"},footer:{base:"",background:"",padding:"px-4 py-4 sm:px-6"}},pt={wrapper:"relative",container:"z-50 group",trigger:"inline-flex w-full",width:"",background:"bg-white dark:bg-gray-900",shadow:"shadow-lg",rounded:"rounded-md",ring:"ring-1 ring-gray-200 dark:ring-gray-800",base:"overflow-hidden focus:outline-none relative",transition:{enterActiveClass:"transition ease-out duration-200",enterFromClass:"opacity-0 translate-y-1",enterToClass:"opacity-100 translate-y-0",leaveActiveClass:"transition ease-in duration-150",leaveFromClass:"opacity-100 translate-y-0",leaveToClass:"opacity-0 translate-y-1"},overlay:{base:"fixed inset-0 transition-opacity z-50",background:"bg-gray-200/75 dark:bg-gray-800/75",transition:{enterActiveClass:"ease-out duration-200",enterFromClass:"opacity-0",enterToClass:"opacity-100",leaveActiveClass:"ease-in duration-150",leaveFromClass:"opacity-100",leaveToClass:"opacity-0"}},popper:{strategy:"fixed"},default:{openDelay:0,closeDelay:0},arrow:nt},gt={__name:"import",setup(e){const{loadImage:t}=se();return(o,n)=>{const a=Le;return E(),T("div",null,[F(a,null,{default:A(()=>[n[1]||(n[1]=N("h1",{class:"text-2xl font-semibold"},"Importer une image pour commencer.",-1)),n[2]||(n[2]=N("p",{class:"mb-6 text-gray-500"},"Formats acceptÃ©s : ",-1)),N("input",{class:"border dark:border-gray-500 p-3 rounded-lg",type:"file",onChange:n[0]||(n[0]=(...u)=>Y(t)&&Y(t)(...u))},null,32)]),_:1})])}}},mt=(e,t,o=!0)=>{const n=R("form-events",void 0),a=R("form-group",void 0),u=R("form-inputs",void 0);a&&(!o||e!=null&&e.legend?a.inputId.value=void 0:e!=null&&e.id&&(a.inputId.value=e==null?void 0:e.id),u&&(u.value[a.name.value]=a.inputId.value));const r=O(!1);function l(p,w){n&&n.emit({type:p,path:w})}function c(){l("blur",a==null?void 0:a.name.value),r.value=!0}function s(){l("change",a==null?void 0:a.name.value)}const i=at(()=>{(r.value||a!=null&&a.eagerValidation.value)&&l("input",a==null?void 0:a.name.value)},300);return{inputId:I(()=>(e==null?void 0:e.id)??(a==null?void 0:a.inputId.value)),name:I(()=>(e==null?void 0:e.name)??(a==null?void 0:a.name.value)),size:I(()=>{var w;const p=t.size[a==null?void 0:a.size.value]?a==null?void 0:a.size.value:null;return(e==null?void 0:e.size)??p??((w=t.default)==null?void 0:w.size)}),color:I(()=>{var p;return(p=a==null?void 0:a.error)!=null&&p.value?"red":e==null?void 0:e.color}),emitFormBlur:c,emitFormInput:i,emitFormChange:s}},H=_e(V.ui.strategy,V.ui.input,lt),yt=X({components:{UIcon:He},inheritAttrs:!1,props:{modelValue:{type:[String,Number],default:""},type:{type:String,default:"text"},id:{type:String,default:null},name:{type:String,default:null},placeholder:{type:String,default:null},required:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},autofocus:{type:Boolean,default:!1},autofocusDelay:{type:Number,default:100},icon:{type:String,default:null},loadingIcon:{type:String,default:()=>H.default.loadingIcon},leadingIcon:{type:String,default:null},trailingIcon:{type:String,default:null},trailing:{type:Boolean,default:!1},leading:{type:Boolean,default:!1},loading:{type:Boolean,default:!1},padded:{type:Boolean,default:!0},size:{type:String,default:null,validator(e){return Object.keys(H.size).includes(e)}},color:{type:String,default:()=>H.default.color,validator(e){return[...V.ui.colors,...Object.keys(H.color)].includes(e)}},variant:{type:String,default:()=>H.default.variant,validator(e){return[...Object.keys(H.variant),...Object.values(H.color).flatMap(t=>Object.keys(t))].includes(e)}},inputClass:{type:String,default:null},class:{type:[String,Object,Array],default:()=>""},ui:{type:Object,default:()=>({})},modelModifiers:{type:Object,default:()=>({})}},emits:["update:modelValue","blur","change"],setup(e,{emit:t,slots:o}){const{ui:n,attrs:a}=Pe("input",re(e,"ui"),H,re(e,"class")),{size:u,rounded:r}=ot({ui:n,props:e}),{emitFormBlur:l,emitFormInput:c,size:s,color:i,inputId:p,name:w}=mt(e,H),g=I(()=>u.value??s.value),b=O(ze({},e.modelModifiers,{trim:!1,lazy:!1,number:!1,nullify:!1})),f=O(null),$=()=>{var P;e.autofocus&&((P=f.value)==null||P.focus())},_=P=>{b.value.trim&&(P=P.trim()),(b.value.number||e.type==="number")&&(P=rt(P)),b.value.nullify&&(P||(P=null)),t("update:modelValue",P),c()},S=P=>{b.value.lazy||_(P.target.value)},k=P=>{if(e.type==="file"){const q=P.target.files;t("change",q)}else{const q=P.target.value;t("change",q),b.value.lazy&&_(q),b.value.trim&&(P.target.value=q.trim())}},h=P=>{l(),t("blur",P)};G(()=>{setTimeout(()=>{$()},e.autofocusDelay)});const d=I(()=>{var q,Fe;const P=((Fe=(q=n.value.color)==null?void 0:q[i.value])==null?void 0:Fe[e.variant])||n.value.variant[e.variant];return Ue(te(n.value.base,n.value.form,r.value,n.value.placeholder,e.type==="file"&&n.value.file.base,n.value.size[g.value],e.padded?n.value.padding[g.value]:"p-0",P==null?void 0:P.replaceAll("{color}",i.value),(m.value||o.leading)&&n.value.leading.padding[g.value],(y.value||o.trailing)&&n.value.trailing.padding[g.value]),e.inputClass)}),m=I(()=>e.icon&&e.leading||e.icon&&!e.trailing||e.loading&&!e.trailing||e.leadingIcon),y=I(()=>e.icon&&e.trailing||e.loading&&e.trailing||e.trailingIcon),C=I(()=>e.loading?e.loadingIcon:e.leadingIcon||e.icon),j=I(()=>e.loading&&!m.value?e.loadingIcon:e.trailingIcon||e.icon),B=I(()=>te(n.value.icon.leading.wrapper,n.value.icon.leading.pointer,n.value.icon.leading.padding[g.value])),Z=I(()=>te(n.value.icon.base,i.value&&V.ui.colors.includes(i.value)&&n.value.icon.color.replaceAll("{color}",i.value),n.value.icon.size[g.value],e.loading&&n.value.icon.loading)),he=I(()=>te(n.value.icon.trailing.wrapper,n.value.icon.trailing.pointer,n.value.icon.trailing.padding[g.value])),ee=I(()=>te(n.value.icon.base,i.value&&V.ui.colors.includes(i.value)&&n.value.icon.color.replaceAll("{color}",i.value),n.value.icon.size[g.value],e.loading&&!m.value&&n.value.icon.loading));return{ui:n,attrs:a,name:w,inputId:p,input:f,isLeading:m,isTrailing:y,inputClass:d,leadingIconName:C,leadingIconClass:Z,leadingWrapperIconClass:B,trailingIconName:j,trailingIconClass:ee,trailingWrapperIconClass:he,onInput:S,onChange:k,onBlur:h}}}),bt=["id","name","type","required","placeholder","disabled"];function ht(e,t,o,n,a,u){const r=He;return E(),T("div",{class:D(e.type==="hidden"?"hidden":e.ui.wrapper)},[N("input",le({id:e.inputId,ref:"input",name:e.name,type:e.type,required:e.required,placeholder:e.placeholder,disabled:e.disabled,class:e.inputClass},e.type==="file"?e.attrs:{...e.attrs,value:e.modelValue},{onInput:t[0]||(t[0]=(...l)=>e.onInput&&e.onInput(...l)),onBlur:t[1]||(t[1]=(...l)=>e.onBlur&&e.onBlur(...l)),onChange:t[2]||(t[2]=(...l)=>e.onChange&&e.onChange(...l))}),null,16,bt),x(e.$slots,"default"),e.isLeading&&e.leadingIconName||e.$slots.leading?(E(),T("span",{key:0,class:D(e.leadingWrapperIconClass)},[x(e.$slots,"leading",{disabled:e.disabled,loading:e.loading},()=>[F(r,{name:e.leadingIconName,class:D(e.leadingIconClass)},null,8,["name","class"])])],2)):M("",!0),e.isTrailing&&e.trailingIconName||e.$slots.trailing?(E(),T("span",{key:1,class:D(e.trailingWrapperIconClass)},[x(e.$slots,"trailing",{disabled:e.disabled,loading:e.loading},()=>[F(r,{name:e.trailingIconName,class:D(e.trailingIconClass)},null,8,["name","class"])])],2)):M("",!0)],2)}const wt=de(yt,[["render",ht]]),St={class:"flex justify-between"},It={class:"flex gap-2"},$t={__name:"display",setup(e){const{removeImage:t,imageLoaded:o,downloadImage:n}=se(),a=o.value.name,u=()=>{n(a)};return G(()=>{console.log(o.value.name)}),(r,l)=>{const c=wt,s=Re;return E(),T("div",St,[F(c,{modelValue:Y(a),"onUpdate:modelValue":l[0]||(l[0]=i=>ut(a)?a.value=i:null)},null,8,["modelValue"]),N("div",It,[F(s,{square:"",icon:"i-heroicons-trash",variant:"outline",onClick:Y(t)},null,8,["onClick"]),F(s,{square:"",icon:"i-heroicons-document-arrow-down",variant:"outline",onClick:u})])])}}},kt={class:"mt-5"},Et={__name:"display",setup(e){const{canvas:t,drawImage:o,debug:n,removeImage:a}=se();return G(()=>{o()}),(u,r)=>(E(),T("div",kt,[N("canvas",{class:"rounded-sm w-full",ref_key:"canvas",ref:t},null,512)]))}},_t=_e(V.ui.strategy,V.ui.card,ft),Pt=X({inheritAttrs:!1,props:{as:{type:String,default:"div"},class:{type:[String,Object,Array],default:()=>""},ui:{type:Object,default:()=>({})}},setup(e){const{ui:t,attrs:o}=Pe("card",re(e,"ui"),_t),n=I(()=>Ue(te(t.value.base,t.value.rounded,t.value.divide,t.value.ring,t.value.shadow,t.value.background),e.class));return{ui:t,attrs:o,cardClass:n}}});function Ct(e,t,o,n,a,u){return E(),ne(it(e.$attrs.onSubmit?"form":e.as),le({class:e.cardClass},e.attrs),{default:A(()=>[e.$slots.header?(E(),T("div",{key:0,class:D([e.ui.header.base,e.ui.header.padding,e.ui.header.background])},[x(e.$slots,"header")],2)):M("",!0),e.$slots.default?(E(),T("div",{key:1,class:D([e.ui.body.base,e.ui.body.padding,e.ui.body.background])},[x(e.$slots,"default")],2)):M("",!0),e.$slots.footer?(E(),T("div",{key:2,class:D([e.ui.footer.base,e.ui.footer.padding,e.ui.footer.background])},[x(e.$slots,"footer")],2)):M("",!0)]),_:3},16,["class"])}const Ot=de(Pt,[["render",Ct]]),Ft={data(){return{items:[{id:1,text:"Item 1"},{id:2,text:"Item 2"},{id:3,text:"Item 3"},{id:4,text:"Item 4"}],draggedIndex:null}},methods:{onDragStart(e){this.draggedIndex=e},onDragOver(e){},onDrop(e){if(this.draggedIndex!==null&&this.draggedIndex!==e){const t=this.items[e];this.items[e]=this.items[this.draggedIndex],this.items[this.draggedIndex]=t}this.draggedIndex=null}}},Tt={class:"draggable-list"},Nt=["onDragstart","onDragover","onDrop"];function Dt(e,t,o,n,a,u){return E(),T("div",null,[N("ul",Tt,[(E(!0),T(ae,null,st(a.items,(r,l)=>(E(),T("li",{key:r.id,draggable:!0,class:"draggable-item",onDragstart:()=>u.onDragStart(l),onDragover:Te(()=>u.onDragOver(l),["prevent"]),onDrop:Te(()=>u.onDrop(l),["prevent"])},$e(r.text),41,Nt))),128))])])}const At=de(Ft,[["render",Dt],["__scopeId","data-v-d6836a13"]]);var Ae;let qe=Symbol("headlessui.useid"),jt=0;const oe=(Ae=Ve)!=null?Ae:function(){return R(qe,()=>`${++jt}`)()};function Bt(e){ce(qe,e)}function v(e){var t;if(e==null||e.value==null)return null;let o=(t=e.value.$el)!=null?t:e.value;return o instanceof Node?o:null}function W(e,t,...o){if(e in t){let a=t[e];return typeof a=="function"?a(...o):a}let n=new Error(`Tried to handle "${e}" but there is no handler defined. Only defined handlers are: ${Object.keys(t).map(a=>`"${a}"`).join(", ")}.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,W),n}var Mt=Object.defineProperty,Lt=(e,t,o)=>t in e?Mt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:o}):e[t]=o,je=(e,t,o)=>(Lt(e,typeof t!="symbol"?t+"":t,o),o);let Ht=class{constructor(){je(this,"current",this.detect()),je(this,"currentId",0)}set(t){this.current!==t&&(this.currentId=0,this.current=t)}reset(){this.set(this.detect())}nextId(){return++this.currentId}get isServer(){return this.current==="server"}get isClient(){return this.current==="client"}detect(){return typeof window>"u"||typeof document>"u"?"server":"client"}},me=new Ht;function ve(e){if(me.isServer)return null;if(e instanceof Node)return e.ownerDocument;if(e!=null&&e.hasOwnProperty("value")){let t=v(e);if(t)return t.ownerDocument}return document}let ke=["[contentEditable=true]","[tabindex]","a[href]","area[href]","button:not([disabled])","iframe","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].map(e=>`${e}:not([tabindex='-1'])`).join(",");var z=(e=>(e[e.First=1]="First",e[e.Previous=2]="Previous",e[e.Next=4]="Next",e[e.Last=8]="Last",e[e.WrapAround=16]="WrapAround",e[e.NoScroll=32]="NoScroll",e))(z||{}),pe=(e=>(e[e.Error=0]="Error",e[e.Overflow=1]="Overflow",e[e.Success=2]="Success",e[e.Underflow=3]="Underflow",e))(pe||{}),zt=(e=>(e[e.Previous=-1]="Previous",e[e.Next=1]="Next",e))(zt||{});function ye(e=document.body){return e==null?[]:Array.from(e.querySelectorAll(ke)).sort((t,o)=>Math.sign((t.tabIndex||Number.MAX_SAFE_INTEGER)-(o.tabIndex||Number.MAX_SAFE_INTEGER)))}var Ce=(e=>(e[e.Strict=0]="Strict",e[e.Loose=1]="Loose",e))(Ce||{});function Ke(e,t=0){var o;return e===((o=ve(e))==null?void 0:o.body)?!1:W(t,{0(){return e.matches(ke)},1(){let n=e;for(;n!==null;){if(n.matches(ke))return!0;n=n.parentElement}return!1}})}var Ut=(e=>(e[e.Keyboard=0]="Keyboard",e[e.Mouse=1]="Mouse",e))(Ut||{});typeof window<"u"&&typeof document<"u"&&(document.addEventListener("keydown",e=>{e.metaKey||e.altKey||e.ctrlKey||(document.documentElement.dataset.headlessuiFocusVisible="")},!0),document.addEventListener("click",e=>{e.detail===1?delete document.documentElement.dataset.headlessuiFocusVisible:e.detail===0&&(document.documentElement.dataset.headlessuiFocusVisible="")},!0));let Rt=["textarea","input"].join(",");function Vt(e){var t,o;return(o=(t=e==null?void 0:e.matches)==null?void 0:t.call(e,Rt))!=null?o:!1}function Wt(e,t=o=>o){return e.slice().sort((o,n)=>{let a=t(o),u=t(n);if(a===null||u===null)return 0;let r=a.compareDocumentPosition(u);return r&Node.DOCUMENT_POSITION_FOLLOWING?-1:r&Node.DOCUMENT_POSITION_PRECEDING?1:0})}function J(e,t,{sorted:o=!0,relativeTo:n=null,skipElements:a=[]}={}){var u;let r=(u=Array.isArray(e)?e.length>0?e[0].ownerDocument:document:e==null?void 0:e.ownerDocument)!=null?u:document,l=Array.isArray(e)?o?Wt(e):e:ye(e);a.length>0&&l.length>1&&(l=l.filter(b=>!a.includes(b))),n=n??r.activeElement;let c=(()=>{if(t&5)return 1;if(t&10)return-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),s=(()=>{if(t&1)return 0;if(t&2)return Math.max(0,l.indexOf(n))-1;if(t&4)return Math.max(0,l.indexOf(n))+1;if(t&8)return l.length-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),i=t&32?{preventScroll:!0}:{},p=0,w=l.length,g;do{if(p>=w||p+w<=0)return 0;let b=s+p;if(t&16)b=(b+w)%w;else{if(b<0)return 3;if(b>=w)return 1}g=l[b],g==null||g.focus(i),p+=c}while(g!==r.activeElement);return t&6&&Vt(g)&&g.select(),2}function qt(){return/iPhone/gi.test(window.navigator.platform)||/Mac/gi.test(window.navigator.platform)&&window.navigator.maxTouchPoints>0}function Kt(){return/Android/gi.test(window.navigator.userAgent)}function xt(){return qt()||Kt()}function fe(e,t,o){me.isServer||Q(n=>{document.addEventListener(e,t,o),n(()=>document.removeEventListener(e,t,o))})}function xe(e,t,o){me.isServer||Q(n=>{window.addEventListener(e,t,o),n(()=>window.removeEventListener(e,t,o))})}function Xt(e,t,o=I(()=>!0)){function n(u,r){if(!o.value||u.defaultPrevented)return;let l=r(u);if(l===null||!l.getRootNode().contains(l))return;let c=function s(i){return typeof i=="function"?s(i()):Array.isArray(i)||i instanceof Set?i:[i]}(e);for(let s of c){if(s===null)continue;let i=s instanceof HTMLElement?s:v(s);if(i!=null&&i.contains(l)||u.composed&&u.composedPath().includes(i))return}return!Ke(l,Ce.Loose)&&l.tabIndex!==-1&&u.preventDefault(),t(u,l)}let a=O(null);fe("pointerdown",u=>{var r,l;o.value&&(a.value=((l=(r=u.composedPath)==null?void 0:r.call(u))==null?void 0:l[0])||u.target)},!0),fe("mousedown",u=>{var r,l;o.value&&(a.value=((l=(r=u.composedPath)==null?void 0:r.call(u))==null?void 0:l[0])||u.target)},!0),fe("click",u=>{xt()||a.value&&(n(u,()=>a.value),a.value=null)},!0),fe("touchend",u=>n(u,()=>u.target instanceof HTMLElement?u.target:null),!0),xe("blur",u=>n(u,()=>window.document.activeElement instanceof HTMLIFrameElement?window.document.activeElement:null),!0)}function Be(e,t){if(e)return e;let o=t??"button";if(typeof o=="string"&&o.toLowerCase()==="button")return"button"}function Jt(e,t){let o=O(Be(e.value.type,e.value.as));return G(()=>{o.value=Be(e.value.type,e.value.as)}),Q(()=>{var n;o.value||v(t)&&v(t)instanceof HTMLButtonElement&&!((n=v(t))!=null&&n.hasAttribute("type"))&&(o.value="button")}),o}var Ee=(e=>(e[e.None=0]="None",e[e.RenderStrategy=1]="RenderStrategy",e[e.Static=2]="Static",e))(Ee||{}),Yt=(e=>(e[e.Unmount=0]="Unmount",e[e.Hidden=1]="Hidden",e))(Yt||{});function be({visible:e=!0,features:t=0,ourProps:o,theirProps:n,...a}){var u;let r=Je(n,o),l=Object.assign(a,{props:r});if(e||t&2&&r.static)return Se(l);if(t&1){let c=(u=r.unmount)==null||u?0:1;return W(c,{0(){return null},1(){return Se({...a,props:{...r,hidden:!0,style:{display:"none"}}})}})}return Se(l)}function Se({props:e,attrs:t,slots:o,slot:n,name:a}){var u,r;let{as:l,...c}=Gt(e,["unmount","static"]),s=(u=o.default)==null?void 0:u.call(o,n),i={};if(n){let p=!1,w=[];for(let[g,b]of Object.entries(n))typeof b=="boolean"&&(p=!0),b===!0&&w.push(g);p&&(i["data-headlessui-state"]=w.join(" "))}if(l==="template"){if(s=Xe(s??[]),Object.keys(c).length>0||Object.keys(t).length>0){let[p,...w]=s??[];if(!Qt(p)||w.length>0)throw new Error(['Passing props on "template"!',"",`The current component <${a} /> is rendering a "template".`,"However we need to passthrough the following props:",Object.keys(c).concat(Object.keys(t)).map(f=>f.trim()).filter((f,$,_)=>_.indexOf(f)===$).sort((f,$)=>f.localeCompare($)).map(f=>`  - ${f}`).join(`
`),"","You can apply a few solutions:",['Add an `as="..."` prop, to ensure that we render an actual element instead of a "template".',"Render a single element as the child so that we can forward the props onto that element."].map(f=>`  - ${f}`).join(`
`)].join(`
`));let g=Je((r=p.props)!=null?r:{},c,i),b=dt(p,g,!0);for(let f in g)f.startsWith("on")&&(b.props||(b.props={}),b.props[f]=g[f]);return b}return Array.isArray(s)&&s.length===1?s[0]:s}return L(l,Object.assign({},c,i),{default:()=>s})}function Xe(e){return e.flatMap(t=>t.type===ae?Xe(t.children):[t])}function Je(...e){if(e.length===0)return{};if(e.length===1)return e[0];let t={},o={};for(let n of e)for(let a in n)a.startsWith("on")&&typeof n[a]=="function"?(o[a]!=null||(o[a]=[]),o[a].push(n[a])):t[a]=n[a];if(t.disabled||t["aria-disabled"])return Object.assign(t,Object.fromEntries(Object.keys(o).map(n=>[n,void 0])));for(let n in o)Object.assign(t,{[n](a,...u){let r=o[n];for(let l of r){if(a instanceof Event&&a.defaultPrevented)return;l(a,...u)}}});return t}function Gt(e,t=[]){let o=Object.assign({},e);for(let n of t)n in o&&delete o[n];return o}function Qt(e){return e==null?!1:typeof e.type=="string"||typeof e.type=="object"||typeof e.type=="function"}var ue=(e=>(e[e.None=1]="None",e[e.Focusable=2]="Focusable",e[e.Hidden=4]="Hidden",e))(ue||{});let ge=X({name:"Hidden",props:{as:{type:[Object,String],default:"div"},features:{type:Number,default:1}},setup(e,{slots:t,attrs:o}){return()=>{var n;let{features:a,...u}=e,r={"aria-hidden":(a&2)===2?!0:(n=u["aria-hidden"])!=null?n:void 0,hidden:(a&4)===4?!0:void 0,style:{position:"fixed",top:1,left:1,width:1,height:0,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0",...(a&4)===4&&(a&2)!==2&&{display:"none"}}};return be({ourProps:r,theirProps:u,slot:{},attrs:o,slots:t,name:"Hidden"})}}}),Ye=Symbol("Context");var ie=(e=>(e[e.Open=1]="Open",e[e.Closed=2]="Closed",e[e.Closing=4]="Closing",e[e.Opening=8]="Opening",e))(ie||{});function Zt(){return R(Ye,null)}function en(e){ce(Ye,e)}var K=(e=>(e.Space=" ",e.Enter="Enter",e.Escape="Escape",e.Backspace="Backspace",e.Delete="Delete",e.ArrowLeft="ArrowLeft",e.ArrowUp="ArrowUp",e.ArrowRight="ArrowRight",e.ArrowDown="ArrowDown",e.Home="Home",e.End="End",e.PageUp="PageUp",e.PageDown="PageDown",e.Tab="Tab",e))(K||{});function tn(e,t,o,n){me.isServer||Q(a=>{e=e??window,e.addEventListener(t,o,n),a(()=>e.removeEventListener(t,o,n))})}var U=(e=>(e[e.Forwards=0]="Forwards",e[e.Backwards=1]="Backwards",e))(U||{});function Ge(){let e=O(0);return xe("keydown",t=>{t.key==="Tab"&&(e.value=t.shiftKey?1:0)}),e}function nn({defaultContainers:e=[],portals:t,mainTreeNodeRef:o}={}){let n=O(null),a=ve(n);function u(){var r,l,c;let s=[];for(let i of e)i!==null&&(i instanceof HTMLElement?s.push(i):"value"in i&&i.value instanceof HTMLElement&&s.push(i.value));if(t!=null&&t.value)for(let i of t.value)s.push(i);for(let i of(r=a==null?void 0:a.querySelectorAll("html > *, body > *"))!=null?r:[])i!==document.body&&i!==document.head&&i instanceof HTMLElement&&i.id!=="headlessui-portal-root"&&(i.contains(v(n))||i.contains((c=(l=v(n))==null?void 0:l.getRootNode())==null?void 0:c.host)||s.some(p=>i.contains(p))||s.push(i));return s}return{resolveContainers:u,contains(r){return u().some(l=>l.contains(r))},mainTreeNodeRef:n,MainTreeNode(){return o!=null?null:L(ge,{features:ue.Hidden,ref:n})}}}let Me=Symbol("PortalParentContext");function an(){let e=R(Me,null),t=O([]);function o(u){return t.value.push(u),e&&e.register(u),()=>n(u)}function n(u){let r=t.value.indexOf(u);r!==-1&&t.value.splice(r,1),e&&e.unregister(u)}let a={register:o,unregister:n,portals:t};return[t,X({name:"PortalWrapper",setup(u,{slots:r}){return ce(Me,a),()=>{var l;return(l=r.default)==null?void 0:l.call(r)}}})]}var ln=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(ln||{});let Qe=Symbol("PopoverContext");function Oe(e){let t=R(Qe,null);if(t===null){let o=new Error(`<${e} /> is missing a parent <${tt.name} /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(o,Oe),o}return t}let on=Symbol("PopoverGroupContext");function Ze(){return R(on,null)}let et=Symbol("PopoverPanelContext");function rn(){return R(et,null)}let tt=X({name:"Popover",inheritAttrs:!1,props:{as:{type:[Object,String],default:"div"}},setup(e,{slots:t,attrs:o,expose:n}){var a;let u=O(null);n({el:u,$el:u});let r=O(1),l=O(null),c=O(null),s=O(null),i=O(null),p=I(()=>ve(u)),w=I(()=>{var d,m;if(!v(l)||!v(i))return!1;for(let ee of document.querySelectorAll("body > *"))if(Number(ee==null?void 0:ee.contains(v(l)))^Number(ee==null?void 0:ee.contains(v(i))))return!0;let y=ye(),C=y.indexOf(v(l)),j=(C+y.length-1)%y.length,B=(C+1)%y.length,Z=y[j],he=y[B];return!((d=v(i))!=null&&d.contains(Z))&&!((m=v(i))!=null&&m.contains(he))}),g={popoverState:r,buttonId:O(null),panelId:O(null),panel:i,button:l,isPortalled:w,beforePanelSentinel:c,afterPanelSentinel:s,togglePopover(){r.value=W(r.value,{0:1,1:0})},closePopover(){r.value!==1&&(r.value=1)},close(d){g.closePopover();let m=d?d instanceof HTMLElement?d:d.value instanceof HTMLElement?v(d):v(g.button):v(g.button);m==null||m.focus()}};ce(Qe,g),en(I(()=>W(r.value,{0:ie.Open,1:ie.Closed})));let b={buttonId:g.buttonId,panelId:g.panelId,close(){g.closePopover()}},f=Ze(),$=f==null?void 0:f.registerPopover,[_,S]=an(),k=nn({mainTreeNodeRef:f==null?void 0:f.mainTreeNodeRef,portals:_,defaultContainers:[l,i]});function h(){var d,m,y,C;return(C=f==null?void 0:f.isFocusWithinPopoverGroup())!=null?C:((d=p.value)==null?void 0:d.activeElement)&&(((m=v(l))==null?void 0:m.contains(p.value.activeElement))||((y=v(i))==null?void 0:y.contains(p.value.activeElement)))}return Q(()=>$==null?void 0:$(b)),tn((a=p.value)==null?void 0:a.defaultView,"focus",d=>{var m,y;d.target!==window&&d.target instanceof HTMLElement&&r.value===0&&(h()||l&&i&&(k.contains(d.target)||(m=v(g.beforePanelSentinel))!=null&&m.contains(d.target)||(y=v(g.afterPanelSentinel))!=null&&y.contains(d.target)||g.closePopover()))},!0),Xt(k.resolveContainers,(d,m)=>{var y;g.closePopover(),Ke(m,Ce.Loose)||(d.preventDefault(),(y=v(l))==null||y.focus())},I(()=>r.value===0)),()=>{let d={open:r.value===0,close:g.close};return L(ae,[L(S,{},()=>be({theirProps:{...e,...o},ourProps:{ref:u},slot:d,slots:t,attrs:o,name:"Popover"})),L(k.MainTreeNode)])}}}),un=X({name:"PopoverButton",props:{as:{type:[Object,String],default:"button"},disabled:{type:[Boolean],default:!1},id:{type:String,default:null}},inheritAttrs:!1,setup(e,{attrs:t,slots:o,expose:n}){var a;let u=(a=e.id)!=null?a:`headlessui-popover-button-${oe()}`,r=Oe("PopoverButton"),l=I(()=>ve(r.button));n({el:r.button,$el:r.button}),G(()=>{r.buttonId.value=u}),We(()=>{r.buttonId.value=null});let c=Ze(),s=c==null?void 0:c.closeOthers,i=rn(),p=I(()=>i===null?!1:i.value===r.panelId.value),w=O(null),g=`headlessui-focus-sentinel-${oe()}`;p.value||Q(()=>{r.button.value=v(w)});let b=Jt(I(()=>({as:e.as,type:t.type})),w);function f(d){var m,y,C,j,B;if(p.value){if(r.popoverState.value===1)return;switch(d.key){case K.Space:case K.Enter:d.preventDefault(),(y=(m=d.target).click)==null||y.call(m),r.closePopover(),(C=v(r.button))==null||C.focus();break}}else switch(d.key){case K.Space:case K.Enter:d.preventDefault(),d.stopPropagation(),r.popoverState.value===1&&(s==null||s(r.buttonId.value)),r.togglePopover();break;case K.Escape:if(r.popoverState.value!==0)return s==null?void 0:s(r.buttonId.value);if(!v(r.button)||(j=l.value)!=null&&j.activeElement&&!((B=v(r.button))!=null&&B.contains(l.value.activeElement)))return;d.preventDefault(),d.stopPropagation(),r.closePopover();break}}function $(d){p.value||d.key===K.Space&&d.preventDefault()}function _(d){var m,y;e.disabled||(p.value?(r.closePopover(),(m=v(r.button))==null||m.focus()):(d.preventDefault(),d.stopPropagation(),r.popoverState.value===1&&(s==null||s(r.buttonId.value)),r.togglePopover(),(y=v(r.button))==null||y.focus()))}function S(d){d.preventDefault(),d.stopPropagation()}let k=Ge();function h(){let d=v(r.panel);if(!d)return;function m(){W(k.value,{[U.Forwards]:()=>J(d,z.First),[U.Backwards]:()=>J(d,z.Last)})===pe.Error&&J(ye().filter(y=>y.dataset.headlessuiFocusGuard!=="true"),W(k.value,{[U.Forwards]:z.Next,[U.Backwards]:z.Previous}),{relativeTo:v(r.button)})}m()}return()=>{let d=r.popoverState.value===0,m={open:d},{...y}=e,C=p.value?{ref:w,type:b.value,onKeydown:f,onClick:_}:{ref:w,id:u,type:b.value,"aria-expanded":r.popoverState.value===0,"aria-controls":v(r.panel)?r.panelId.value:void 0,disabled:e.disabled?!0:void 0,onKeydown:f,onKeyup:$,onClick:_,onMousedown:S};return L(ae,[be({ourProps:C,theirProps:{...t,...y},slot:m,attrs:t,slots:o,name:"PopoverButton"}),d&&!p.value&&r.isPortalled.value&&L(ge,{id:g,features:ue.Focusable,"data-headlessui-focus-guard":!0,as:"button",type:"button",onFocus:h})])}}}),sn=X({name:"PopoverPanel",props:{as:{type:[Object,String],default:"div"},static:{type:Boolean,default:!1},unmount:{type:Boolean,default:!0},focus:{type:Boolean,default:!1},id:{type:String,default:null}},inheritAttrs:!1,setup(e,{attrs:t,slots:o,expose:n}){var a;let u=(a=e.id)!=null?a:`headlessui-popover-panel-${oe()}`,{focus:r}=e,l=Oe("PopoverPanel"),c=I(()=>ve(l.panel)),s=`headlessui-focus-sentinel-before-${oe()}`,i=`headlessui-focus-sentinel-after-${oe()}`;n({el:l.panel,$el:l.panel}),G(()=>{l.panelId.value=u}),We(()=>{l.panelId.value=null}),ce(et,l.panelId),Q(()=>{var S,k;if(!r||l.popoverState.value!==0||!l.panel)return;let h=(S=c.value)==null?void 0:S.activeElement;(k=v(l.panel))!=null&&k.contains(h)||J(v(l.panel),z.First)});let p=Zt(),w=I(()=>p!==null?(p.value&ie.Open)===ie.Open:l.popoverState.value===0);function g(S){var k,h;switch(S.key){case K.Escape:if(l.popoverState.value!==0||!v(l.panel)||c.value&&!((k=v(l.panel))!=null&&k.contains(c.value.activeElement)))return;S.preventDefault(),S.stopPropagation(),l.closePopover(),(h=v(l.button))==null||h.focus();break}}function b(S){var k,h,d,m,y;let C=S.relatedTarget;C&&v(l.panel)&&((k=v(l.panel))!=null&&k.contains(C)||(l.closePopover(),((d=(h=v(l.beforePanelSentinel))==null?void 0:h.contains)!=null&&d.call(h,C)||(y=(m=v(l.afterPanelSentinel))==null?void 0:m.contains)!=null&&y.call(m,C))&&C.focus({preventScroll:!0})))}let f=Ge();function $(){let S=v(l.panel);if(!S)return;function k(){W(f.value,{[U.Forwards]:()=>{var h;J(S,z.First)===pe.Error&&((h=v(l.afterPanelSentinel))==null||h.focus())},[U.Backwards]:()=>{var h;(h=v(l.button))==null||h.focus({preventScroll:!0})}})}k()}function _(){let S=v(l.panel);if(!S)return;function k(){W(f.value,{[U.Forwards]:()=>{let h=v(l.button),d=v(l.panel);if(!h)return;let m=ye(),y=m.indexOf(h),C=m.slice(0,y+1),j=[...m.slice(y+1),...C];for(let B of j.slice())if(B.dataset.headlessuiFocusGuard==="true"||d!=null&&d.contains(B)){let Z=j.indexOf(B);Z!==-1&&j.splice(Z,1)}J(j,z.First,{sorted:!1})},[U.Backwards]:()=>{var h;J(S,z.Previous)===pe.Error&&((h=v(l.button))==null||h.focus())}})}k()}return()=>{let S={open:l.popoverState.value===0,close:l.close},{focus:k,...h}=e,d={ref:l.panel,id:u,onKeydown:g,onFocusout:r&&l.popoverState.value===0?b:void 0,tabIndex:-1};return be({ourProps:d,theirProps:{...t,...h},attrs:t,slot:S,slots:{...o,default:(...m)=>{var y;return[L(ae,[w.value&&l.isPortalled.value&&L(ge,{id:s,ref:l.beforePanelSentinel,features:ue.Focusable,"data-headlessui-focus-guard":!0,as:"button",type:"button",onFocus:$}),(y=o.default)==null?void 0:y.call(o,...m),w.value&&l.isPortalled.value&&L(ge,{id:i,ref:l.afterPanelSentinel,features:ue.Focusable,"data-headlessui-focus-guard":!0,as:"button",type:"button",onFocus:_})])]}},features:Ee.RenderStrategy|Ee.Static,visible:w.value,name:"PopoverPanel"})}}});const Ie=_e(V.ui.strategy,V.ui.popover,pt),dn=X({components:{HPopover:tt,HPopoverButton:un,HPopoverPanel:sn},inheritAttrs:!1,props:{mode:{type:String,default:"click",validator:e=>["click","hover"].includes(e)},open:{type:Boolean,default:void 0},disabled:{type:Boolean,default:!1},openDelay:{type:Number,default:()=>Ie.default.openDelay},closeDelay:{type:Number,default:()=>Ie.default.closeDelay},overlay:{type:Boolean,default:!1},popper:{type:Object,default:()=>({})},class:{type:[String,Object,Array],default:()=>""},ui:{type:Object,default:()=>({})}},emits:["update:open"],setup(e,{emit:t}){const{ui:o,attrs:n}=Pe("popover",re(e,"ui"),Ie,re(e,"class")),a=I(()=>ze(e.mode==="hover"?{offsetDistance:0}:{},e.popper,o.value.popper)),[u,r]=ct(a.value),l=O(null),c=O(null);let s=null,i=null;G(()=>{var _,S;const f=(_=l.value)==null?void 0:_.$.provides;if(!f)return;const $=Object.getOwnPropertySymbols(f);c.value=$.length&&f[$[0]],e.open&&((S=c.value)==null||S.togglePopover())});const p=I(()=>{var S,k,h;if(e.mode!=="hover")return{};const f=((S=e.popper)==null?void 0:S.offsetDistance)||((k=o.value.popper)==null?void 0:k.offsetDistance)||8,$=(h=a.value.placement)==null?void 0:h.split("-")[0],_=`${f}px`;return $==="top"||$==="bottom"?{paddingTop:_,paddingBottom:_}:$==="left"||$==="right"?{paddingLeft:_,paddingRight:_}:{paddingTop:_,paddingBottom:_,paddingLeft:_,paddingRight:_}});function w(f){!f.cancelable||!c.value||e.mode==="click"||(c.value.popoverState===0?c.value.closePopover():c.value.togglePopover())}function g(){e.mode!=="hover"||!c.value||(i&&(clearTimeout(i),i=null),c.value.popoverState!==0&&(s=s||setTimeout(()=>{c.value.togglePopover&&c.value.togglePopover(),s=null},e.openDelay)))}function b(){e.mode!=="hover"||!c.value||(s&&(clearTimeout(s),s=null),c.value.popoverState!==1&&(i=i||setTimeout(()=>{c.value.closePopover&&c.value.closePopover(),i=null},e.closeDelay)))}return Ne(()=>e.open,(f,$)=>{c.value&&($===void 0||f===$||(f?c.value.popoverState=0:c.value.closePopover()))}),Ne(()=>{var f;return(f=c.value)==null?void 0:f.popoverState},(f,$)=>{$===void 0||f===$||t("update:open",f===0)}),Bt(()=>Ve()),{ui:o,attrs:n,popover:l,popper:a,trigger:u,container:r,containerStyle:p,onTouchStart:w,onMouseEnter:g,onMouseLeave:b}}}),cn=["disabled"];function vn(e,t,o,n,a,u){const r=we("HPopoverButton"),l=we("HPopoverPanel"),c=we("HPopover");return E(),ne(c,le({ref:"popover",class:e.ui.wrapper},e.attrs,{onMouseleave:e.onMouseLeave}),{default:A(({open:s,close:i})=>[F(r,{ref:"trigger",as:"div",disabled:e.disabled,class:D(e.ui.trigger),role:"button",onMouseenter:e.onMouseEnter,onTouchstartPassive:e.onTouchStart},{default:A(()=>[x(e.$slots,"default",{open:s,close:i},()=>[N("button",{disabled:e.disabled}," Open ",8,cn)])]),_:2},1032,["disabled","class","onMouseenter","onTouchstartPassive"]),e.overlay?(E(),ne(De,le({key:0,appear:""},e.ui.overlay.transition),{default:A(()=>[s?(E(),T("div",{key:0,class:D([e.ui.overlay.base,e.ui.overlay.background])},null,2)):M("",!0)]),_:2},1040)):M("",!0),s?(E(),T("div",{key:1,ref:"container",class:D([e.ui.container,e.ui.width]),style:vt(e.containerStyle),onMouseenter:t[0]||(t[0]=(...p)=>e.onMouseEnter&&e.onMouseEnter(...p))},[F(De,le({appear:""},e.ui.transition),{default:A(()=>[N("div",null,[e.popper.arrow?(E(),T("div",{key:0,"data-popper-arrow":"",class:D(Object.values(e.ui.arrow))},null,2)):M("",!0),F(l,{class:D([e.ui.base,e.ui.background,e.ui.ring,e.ui.rounded,e.ui.shadow]),static:""},{default:A(()=>[x(e.$slots,"panel",{open:s,close:i})]),_:2},1032,["class"])])]),_:2},1040)],38)):M("",!0)]),_:3},16,["class","onMouseleave"])}const fn=de(dn,[["render",vn]]),pn={class:"p-4 lg:w-72 md:w-56 min-w-32"},gn={class:"flex gap-2 items-center"},mn={class:"text-lg font-bold"},yn={class:"mt-2 text-sm text-gray-600"},bn=["src"],hn={__name:"filter",setup(e){const t=O({title:"Titre du filtre",description:"Ceci est une description qui s'affiche dans le panel.",image:"https://via.placeholder.com/150"}),{convertToGrayscale:o}=se();return(n,a)=>{const u=At,r=Re,l=fn;return E(),T(ae,null,[F(u),N("div",null,[N("button",{onClick:a[0]||(a[0]=(...c)=>Y(o)&&Y(o)(...c))},"test"),F(l,null,{panel:A(()=>[N("div",pn,[N("div",gn,[N("div",null,[N("h3",mn,$e(t.value.title),1),N("p",yn,$e(t.value.description),1)]),t.value.image?(E(),T("img",{key:0,src:t.value.image,alt:"Image",class:"mt-4 h-16 rounded shadow"},null,8,bn)):M("",!0)]),F(r,{label:"Ajouter",icon:"i-heroicons-plus-circle",variant:"outline",block:""})])]),default:A(()=>[F(r,{label:"Ajouter un filtre",icon:"i-heroicons-plus-circle",variant:"outline",block:""})]),_:1})])],64)}}},wn={};function Sn(e,t){const o=$t,n=Et,a=Ot,u=hn,r=Le;return E(),ne(r,{class:"flex gap-5"},{default:A(()=>[F(a,{class:"w-4/6"},{default:A(()=>[F(o),F(n)]),_:1}),F(a,{class:"w-2/6"},{default:A(()=>[F(u)]),_:1})]),_:1})}const In=de(wn,[["render",Sn]]),En={__name:"index",setup(e){const{imageLoaded:t}=se();return(o,n)=>{const a=gt,u=In;return E(),T("div",null,[Y(t)?(E(),ne(u,{key:1})):(E(),ne(a,{key:0}))])}}};export{En as default};
